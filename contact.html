<!DOCTYPE html>
<html lang="en">
<head>
    <title>Contact Me</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="script.js" defer></script> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{
    background-image: url('confetti.gif');
    background-size: cover;
    
    
    
    height: 100vh;
    padding:0;
    margin:0;
}
    </style>
</head>
<body>
<header>
    <h1>Contact Me</h1>
    <nav class="navbar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="contact.html">Contact Me</a></li>
            <li><a href="Graduation.html">I'm Ready!</a></li>
            <li><a href="Dedication.html">Dedication</a></li>
            <li><a href="ThankYou.html">Thank You</a></li>
        </ul>
    </nav>
</header>
<main>
    <section>
        <h2>Contact Form</h2>
        <form target="_blank" action="https://formspree.io/f/xpzggjoa" method="POST">
            <div class="form-group">
                <div class="form-row">
                    <div class="col">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" class="form-control" placeholder="Full Name" required>
                    </div>
                    <div class="col">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" class="form-control" placeholder="Email Address" <p>(optional)</p>
                    </div>
                    <div class="col">
                        <label for="Phone Number">PhoneNumber:</label>
                        <input type = "tel" id="phone" name="phone" class=form-control">
                </div>
            </div>
            <div class="form-group">
                <p>If you're having issues receiving your ticket, fill out the message box below,
                    or if you want to leave a sweet graduation note, you can do so down below:</p>
                <label for="message">Message:</label>
                <textarea id="message" name="message" class="form-control" placeholder="Your Message" rows="10" required></textarea>
            </div>
            <button type="submit" class="btn btn-lg btn-dark btn-block">Submit Form</button>
        </form>
    </section>
    <section>
        <h2>Contact Information</h2>
        <table>
            <thead>
            <tr>
                <th>Contact Method</th>
                <th>Contact Information</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Email</td>
                <td><a href="mailto:Asjah.Marie23@gmail.com">Asjah.Marie23@gmail.com</a></td>
            </tr>
            <tr>
                <td>Phone</td>
                <td>+1 (903)736-0517</td>
            </tr>
            <tr>
                <td>Social Media</td>
                <td>
                    <a href="https://www.linkedin.com/in/asjah-marie-brown">LinkedIn</a>
                    <a href="https://www.facebook.com/asjah.brown.9/">Facebook</a>
                </td>
            </tr>
            <tr>
                <td>Money Givers:</td>
            </tr>
            <tr>
                <td>CashApp</td>
                <td>$AsjahD</td>
            </tr>
            </tbody>
        </table> 
    </section>
    <p>&copy; Asjah Marie Fall 2023</p>
</main>
 <script>
  var form = document.querySelector("form");

  async function handleSubmit(event) {
    event.preventDefault();
    var status = document.getElementById("my-form-status");
    var data = new FormData(event.target);

    try {
      // Assuming your existing Formspree submission code returns a promise
      await submitFormToFormspree(data);

      // Redirect to the home page after successful submission
      window.location.href = "index.html";
    } catch (error) {
      // Handle form submission error here
      console.error("Form submission error:", error);
      status.innerHTML = "Oops! There was a problem submitting your form";
    }
  }

  async function submitFormToFormspree(formData) {
    // Since you don't have specific Formspree code, you can simulate a delay
    // to simulate asynchronous behavior (you can remove this in your actual code)
    await new Promise((resolve) => setTimeout(resolve, 1000));

    // Simulate a successful response
    // In your actual code, you may want to make an actual request to Formspree
    // or remove this part if you rely on the default form submission behavior
    return Promise.resolve();
  }

  form.addEventListener("submit", handleSubmit);
</script>
</body>
</html>
